<!DOCTYPE html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="Charlotte Rachwalski">
	<title>Minecraft - Construction</title>
	<link rel="icon" href="Images/logo.png">
	<link rel="stylesheet" type="text/css" href="style.css" media="screen">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="https://www.youtube.com/iframe_api"></script>
	<script>
	    // Charger les éléments de la page depuis le fichier index
		$(document).ready(function(){
	    	$("header").load("index.html header");
	    	$("nav").load("index.html nav", function() {

		        // Une fois que nav EST CHARGÉ → on active le menu responsive
		        $("nav button").on("click", function(){
		            $("nav ul").slideToggle(250);

		            let expanded = $(this).attr("aria-expanded") === "true";
		            $(this).attr("aria-expanded", !expanded);
		        });

		        $(window).on("resize", function(){
		            if($(window).width() > 768){
		                $("nav ul").removeAttr("style");
		            }
		        });
		    });
		    
	    	$("footer").load("index.html footer", function() {

		        // On écoute le click une fois le footer chargé
		        $(document).on("click", "footer>button", function() {
		            $('html, body').animate({ scrollTop: 0 }, 800);
    			});

    			// Forcer le navigateur à recalculer le layout
			    $(this).css("position", "relative"); 
			
    		});


		    let index = 0;

		    const slides = $("main>div:first-of-type>div:nth-of-type(2)>div>div:first-of-type div").length;

		    // Crée les points (indicateurs)
		    for (let i = 0; i < slides; i++) {
		        $("main>div:first-of-type>div:nth-of-type(2)>div>div:nth-of-type(2)").append(`<span data-index="${i}"></span>`);
		    }
		    $("main>div:first-of-type>div:nth-of-type(2)>div>div:nth-of-type(2) span").first().addClass("active");

		    function showSlide(i) {
		        index = (i + slides) % slides;
		        $("main>div:first-of-type>div:nth-of-type(2)>div>div:first-of-type").css("transform", `translateX(-${index * 100}%)`);
		        $("main>div:first-of-type>div:nth-of-type(2)>div>div:nth-of-type(2) span").removeClass("active").eq(index).addClass("active");
		    }

		    // Boutons navigation
		    $("main>div:first-of-type>div:nth-of-type(2)>div button:nth-of-type(2)").click(() => showSlide(index + 1));
		    $("main>div:first-of-type>div:nth-of-type(2)>div button:first-of-type").click(() => showSlide(index - 1));

		    // Clic sur les points
		    $("main>div:first-of-type>div:nth-of-type(2)>div>div:nth-of-type(2) span").click(function() {
		        showSlide($(this).data("index"));
		    });

		    // Défilement automatique
		    setInterval(() => showSlide(index + 1), 3500);


		  	const $popup = $("main>div:nth-of-type(4)");
		  	const $link = $("main>div:nth-of-type(3) div a");

		  	// Ouvrir le popup au clic sur le lien
			$link.on("click", function(e) {
			    e.preventDefault();
			    const offset = $link.offset();
			    const popupTop = offset.top - $popup.outerHeight() - 10; // au-dessus du lien
			    const popupLeft = offset.left;

		   		$popup.css({
		      		top: popupTop,
		      		left: popupLeft
		    	}).fadeIn(150);
		  	});

		  	// Fermer le popup en cliquant ailleurs ou en scrollant
		  	$(document).on("click scroll", function(e) {
		    	if (!$(e.target).closest("main>div:nth-of-type(4), .construction main>div:nth-of-type(3) div a").length) {
		      		$popup.fadeOut(100);
		    	}
		  	});
		});


		let player;

		function onYouTubeIframeAPIReady() {
		  player = new YT.Player('player', {
		    height: '450',
		    width: '100%',
		    videoId: 'Cv7BBvGml78', // Remplace par ton ID
		    playerVars: {
		      autoplay: 1,
		      controls: 0,
		      modestbranding: 1,
		      rel: 0,
		      mute: 1
		    },
		    events: {
		      'onReady': function(event) {
		        startSegmentLoop(event);
		      }
		    }
		  });
		}

		// Fonction de boucle sur segment
		function startSegmentLoop(event) {
		  const startTime = 7;  // début en secondes
		  const endTime = 153;    // fin en secondes
		  event.target.seekTo(startTime);
		  event.target.playVideo();

		  // Avec jQuery pour l'interval
		  $(document).ready(function(){
		    const interval = setInterval(function(){
		      if (player && player.getCurrentTime() >= endTime) {
		        player.seekTo(startTime);
		      }
		    }, 500);
		  });
		};

  	</script>
</head>
<body class="construction">

	<div>

		<header></header>

		<nav></nav>

	</div>

	<main>
		
		<div>

			<h1>Construire et créer</h1>

			<div>

				<h2>Construire son univers</h2>

				<p>Explorer ne suffit pas&nbsp;: tôt ou tard, chaque jouer veut bâtir quelque chose <strong>qui lui ressemble</strong>. Cela commence par une cabane rudimentaire, mais peut mener à des châteaux gigantesques ou à des cités futuristes. Chaque construction reflète l'imagination de son créateur.</p>

			</div>

			<div>
			    <div>
			        <div>
			            <div><img src="Images/cuivrebuild.jpg" alt="Construction en cuivre"></div>
			            <div><img src="Images/chateau.png" alt="Chateau médiéval"></div>
			            <div><img src="Images/ville.png" alt="Ville futuriste"></div>
			            <div><img src="Images/port.png" alt="Port"></div>
			        </div>

			        <button>&#10094;</button>
			        <button>&#10095;</button>

			        <div></div>
			    </div>
			</div>

		</div>

		<div>

			<h2>Des matériaux aux possibilités infinies</h2>

			<div>

				<p>Certains blocs sont indispensables dès le début&nbsp;:</p>
					<ul>
						<li>
							<img src="Images/bois.jpg" alt="Buche de bois">
							<p>Le <em>bois</em> reste le premier allié. Omniprésent, il sert à fabriquer outils et planches et semble utile à presque tout.</p>
						</li>
						<li>
							<img src="Images/pierre.png" alt="Bloc de pierre">
							<p>La <em>pierre</em> est solide, idéale pour bâtir une base durable.</p>
						</li>
						<li>
							<img src="Images/fer.png" alt="Lingot de fer">
							<p>Le <em>fer</em>, plus rare, est une ressource clé pour progresser et ouvre l'accès à des outils plus fiables.</p>
						</li>
						<li>
							<img src="Images/diamant.png" alt="Diamant">
							<p>Rare et précieux, le <em>diamant</em>, convoité par tous, devient la récompense ultime comme un symbole de réussite.</p>
						</li>
					</ul>
				<p>Ces ressources, si simples en apparence, deviennent les briques d'un imaginaire sans limite.</p>

			</div>

		</div>

		<div>
			
			<div>
				<h2>L'art de la redstone</h2>

				<p>Grâce à la redstone, Minecraft dépasse la construction esthétique. Elle fonctionne comme une <em>électricité virtuelle</em>, permettant de créer des portes automatiques, des pièges ingénieux, ou même des machines capables de rivaliser avec de vrais circuits logiques. C’est elle qui fait de Minecraft un jeu autant créatif que technique — au point que certains joueurs ont réussi à construire de <a href="#">véritables ordinateurs entièrement en redstone</a>.</p>
			</div>

			<img src="Images/systeme.gif" alt="Simple système de redstone">

		</div>

		<div>
		  	<img src="Images/ordinateur.png" alt="Ordinateur en redstone dans Minecraft">
		  	<p>Des joueurs ont conçu dans Minecraft de véritables ordinateurs fonctionnels, capables d’effectuer des calculs, d’afficher du texte ou même de jouer à de petits jeux — uniquement grâce à la redstone. Une prouesse d’ingéniosité !</p>
		</div>

		<div>

		    <h2>Quand le jeu rejoint le réel</h2>

		    <div>
		        
		        <div>
		            <div id="player"></div>
		        </div>

		        <p>
		            Des joueurs du monde entier utilisent Minecraft pour reproduire des monuments célèbres ou inventer de nouvelles architectures, mêlant styles historiques et créations originales. Cette vidéo, réalisée par le créateur Alpine, en est un bon exemple&nbsp;: il y présente une reconstitution impressionnante de New York, illustrant parfaitement le potentiel créatif du jeu. Certains projets sont si impressionnants qu'ils sont relayés dans la presse, présentés dans des musées virtuels, ou partagés sur des plateformes où des spectateurs peuvent explorer ces mondes pixelisés.
		        </p>

		    </div>

		</div>


		

	</main>

	<footer></footer>

</body>
</html>